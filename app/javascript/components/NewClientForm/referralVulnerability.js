import React from 'react'
import {
  SelectInput,
  TextInput
} from '../Commons/inputs'

export default props => {
  const { onChange, data: { quantitativeType, quantitativeCase } } = props

  const quantitativeTypeLoop = () => {
    return (
      quantitativeType.map(type => {
        return (
          <div className="row">
            <div className="col-md-12">
              <SelectInput
                isMulti
                label={type.name}
                onChange={onChange('client', 'history')}
                options={ quantitativeCase.filter(ftr => { return ftr.quantitative_type_id === type.id }).map( qc => ({ label: qc.value, value: qc.id }) ) }
              />
            </div>
          </div>
        )
      })
    )
  }

  return (
    <div className="container">
      <legend>
        <div className="row">
          <div className="col-md-10">
            <p>Client / Referral - Vulnerability Information and Referral Note</p>
          </div>
        </div>
      </legend>
      {quantitativeTypeLoop()}
      <div className="row">
        <div className="col-md-12">
          <TextInput textArea label="Enter a brief note on the client's referral:"/>
        </div>
      </div>
    </div>
  )
}
