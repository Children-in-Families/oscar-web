.modal.fade{ role: 'dialog', tabindex: '-1', id: "case_history_#{index}"}
  .modal-dialog{ role: 'document'}
    .modal-content
      .modal-header
        %button.close{"aria-label" => "#{t('.close')}", "data-dismiss" => 'modal'}
          %span{"aria-hidden" => 'true'} &times;
        %h4.modal-title
          = case_history_label(object)

      .modal-body
        %table.table.table-bordered
          %tbody
            - case_history = object.class.table_name
            - case case_history
            - when 'enter_ngos'
              %tr
                %td Accepted Date
                %td= object.accepted_date
            - when 'exit_ngos'
              %tr
                %td Exited Date
                %td= object.exit_date
              %tr
                %td Exit Circumstance
                %td= object.exit_circumstance
              %tr
                %td Other Info of Exit
                %td= object.other_info_of_exit
              %tr
                %td Exit Reasons
                %td= object.exit_reasons
              %tr
                %td Exit Note
                %td= object.exit_note
            - when 'client_enrollments'
              %tr
                %td Enrollment Date
                %td= object.enrollment_date
              - object.program_stream.enrollment.map{|properties| [properties['type'], properties['label']]}.each do |type, key|
                - unless type == 'separateLine'
                  - if type == 'paragraph'
                    %tr
                      %td.align-justify{colspan: '2'}
                        = key.html_safe
                  - else
                    %tr
                      %td.align-justify
                        = key.html_safe
                      %td.align-justify
                        - key = convert_bracket(key)
                        - if type == 'file'
                          = render 'shared/form_builder/list_attachment', label: key, resource: object
                        - else
                          = display_custom_properties(object.properties[key])
            - when 'leave_programs'
              %tr
                %td Exit Date
                %td= object.exit_date
              - object.program_stream.exit_program.map{|properties| [properties['type'], properties['label']]}.each do |type, key|
                - unless type == 'separateLine'
                  - if type == 'paragraph'
                    %tr
                      %td.align-justify{colspan: '2'}
                        = key.html_safe
                  - else
                    %tr
                      %td.align-justify
                        = key.html_safe
                      %td.align-justify
                        - key = convert_bracket(key)
                        - if type == 'file'
                          = render 'shared/form_builder/list_attachment', label: key, resource: object
                        - else
                          = display_custom_properties(object.properties[key])
            - when 'referrals'
              %tr
                %td Client ID
                %td= object.slug
              %tr
                %td Client
                %td= object.client_name
              %tr
                %td Date of Referral
                %td= object.date_of_referral
              %tr
                %td Referrered From
                %td= object.referred_from
              %tr
                %td Referred To
                %td= object.referred_to
              %tr
                %td Name of Referee
                %td= object.name_of_referee
              %tr
                %td Referral Phone
                %td= object.referral_phone
              %tr
                %td Referral Reason
                %td= object.referral_reason
              %tr
                %td Consent Forms
                %td= original_filename(object.consent_form)
