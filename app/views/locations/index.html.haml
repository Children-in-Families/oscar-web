.row
  .col-xs-12
    .ibox
      .ibox-title
        %h5= t('.location')
        .ibox-tools
          = link_to '#', {"data-target" => "#locationModal-", "data-toggle" => "modal", :type => "button"} do
            .btn.btn-outline.btn-primary.btn-add
              = t('.add_new_location')
      .ibox-content
        .table-responsive
          %table.table.table-bordered.table-striped.table-hover
            %thead
              %tr
                %th= t('.name')
                %th.text-center{ colspan: '2' }= t('.manage')
                %th.text-center= t('.modification')
            %tbody
              - @locations.each do |location|
                %tr
                  %td= location.name
                  %td.text-center
                    - if location.other_used == 1
                      = fa_icon('pencil')
                    - else
                      = link_to '#', {class: 'btn btn-xs btn-success btn-outline', "data-target" => "#locationModal-#{location.id}", "data-toggle" => "modal", :type => "button"} do
                        = fa_icon('pencil')
                  %td.text-center
                    = remove_link(location, { location_progress_note: location.progress_notes.count,
                                              location_other: location.other_used})
                  %td.text-center
                    = link_to t('.view'), location_version_path(location)
                = render 'form', location: location
      .ibox-footer.text-center
        = will_paginate @locations, renderer: BootstrapPagination::Rails
= render 'form'
